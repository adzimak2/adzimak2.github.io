<!doctype html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Franklin - Week 6</title>
    <meta name="author" content="Kelly Adzima">
    <meta name="description" content="Assignment 5 Franklin site">
    <!-- external style references in the proper cascading order -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
    <!-- Google API font reference -->
    <link href="styles/normalize.css" rel="stylesheet">
    <!-- normalize useragent/browser defaults -->
    <link href="styles/main.css" rel="stylesheet">
    <!-- default styles - small/phone views -->
    <link href="styles/medium.css" rel="stylesheet">
    <!-- medium/tablet views -->
    <link href="styles/large.css" rel="stylesheet">
    <!-- large/wide/desktop views -->
</head>

<body>

    <header>
        <img src="images/logoweather.png" alt="The site logo" width="" height="">
        <h1>Breazy weather</h1>
        <div class="subheading">Site Motto</div>
        <p>current Temperature is<span id="currentTemp">90</span>&deg;</p>

        <img id="w_icon" src "" alt="current weather">
    </header>

    <!-- site navigation use placeholder references -->
    <nav>
        <button onclick="toggleNavMenu()">&#9776;</button>
        <ul class="navigation">
            <li><a href="#">Home</a></li>
            <li class="active"><a href="franklin.html">Franklin</a></li>
            <li><a href="greenville.html">Greenville</a></li>
            <li><a href="springfield.html">Springfield</a></li>
            <li><a href="stormcenter.html">Storm Center</a></li>
            <li><a href="gallery">Gallery</a></li>
        </ul>
    </nav>

    <main>
        <h2>The City of Franklin</h2>

        <figure>
            <img src="images/pexels-photo-853411.jpeg#" alt="figure">
        </figure>

        <section>
            <h3>Weather Summary</h3>
            <div class="highlow">
                <p>High:</p>
                <p>Low:</p>
            </div>
            <div class="current">
                Sunny
                <picture>
                    <img src="images/pexels-photo-858599.jpeg#" alt="" width="20px" height="25px">
                </picture>
            </div>
            <div class="conditions">
                Precipitation:
                <p id="precipitation"></p>
                Wind Speed:
                <p id="speed"></p>
            </div>
        </section>



    </main>

    <footer>
        <aside>
            Contact information placeholder
        </aside>
        <p class="footer-bar">&copy;2018 All Rights Reserved | Site Title | <span id="currentdate"></span></p>
    </footer>

    <script src="scripts/hamburger.js"></script>
    <script src="scripts/currentdate.js"></script>
    <script>
        var main = document.querySelector('main');
        var article = document.createElement('article');

        var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
        var request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();
        request.onload = function() {
            var weather = request.response;
            weatherInfo(weather);
        }

        function weatherInfo(jsonObj) {
            var townArray = jsonObj["towns"];
            for (var i = 0; i < townArray.length; i++) {
                if (townArray[i].name != "Placerton") {
                    var div = document.createElement("div");
                    var h1 = document.createElement("h1");
                    var p1 = document.createElement("p");
                    var p2 = document.createElement("p");
                    var p3 = document.createElement("p");
                    var p4 = document.createElement("p");

                    h1.textContent = townArray[i].name;
                    p1.textContent = "Motto: " + townArray[i].motto;
                    p2.textContent = "Year Founded: " + townArray[i].yearFounded;
                    p3.textContent = "Current Population: " + townArray[i].currentPopulation;
                    p4.textContent = "Average Rain Fall: " + townArray[i].averageRainfall;

                    div.appendChild(h1);
                    div.appendChild(p1);
                    div.appendChild(p2);
                    div.appendChild(p3);
                    div.appendChild(p4);
                    article.appendChild(div);
                }
            }
            main.appendChild(article);
        }
    </script>

</body>

</html>
